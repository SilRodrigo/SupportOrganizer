<!DOCTYPE html>
<html lang="en">

<head>
    <title>ORGANIZADOR DE CHAMADOS</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- Font Awesome File -->

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"></script>

    <script src="view/assets/js/dragEvent.js"></script>
    <script src="view/assets/js/utils.js"></script>
    <script src="view/assets/js/communication.js"></script>
    <script src="view/assets/js/controller.js"></script>

    <link rel="stylesheet" href="view/assets/css/styles.css">
    <link rel="stylesheet" href="view/assets/css/loading.css">
</head>

<body>
    <div class="minimum-res"></div>
    <button class="navigate-button navigate-button-left"><i class="fa fa-chevron-left" aria-hidden="true"></i></button>

    <div class="container app">
        <div class="row app-one overflow-auto">
            <div id="hiddenExample" hidden>

                <div id="newSupportIncomeElementExample" class="newSupport-animation row side-bar-body"
                    onclick="selected(this)" data-target="#editSupport" data-toggle="modal" draggable="true"
                    ondragstart="drag(event)" ondragend="cancelDrag()" onmouseover="removeNotification(this)">
                    <div class="col-1 d-flex align-items-center">
                        <div class="spinner-border spinner-border-sm text-success icon" role="status">
                            <span class="sr-only">Loading...</span>
                        </div>
                        <i class="fa notification fa-exclamation-circle" aria-hidden="true"></i>
                    </div>
                    <div class="col-11 side-bar-main row">
                        <div id="newSuppNumber" class="row support">
                            <div class="col-4 pull-right border-right">
                                <div class="description">EMPRESA</div>
                                <span class="company-meta pull-right">TESTE
                                </span>
                            </div>
                            <div class="col-4 border-right">
                                <div class="description">USUÁRIO</div>
                                <span class="name-meta pull-right">
                                </span>
                            </div>
                            <div class="col-4 pull-right">
                                <span placeholder="dd-mm-yyyy" class="date-meta ">
                                </span>
                                <span class="time-meta ">
                                </span>
                            </div>
                            <div hidden>
                                <span class="comment-meta">
                                </span>
                                <span class="status-meta">
                                </span>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="mySupportIncomeElementExample" class="newSupport-animation row side-bar-body"
                    onclick="selected(this)" data-target="#editSupport" data-toggle="modal">
                    <div class="col-1 d-flex align-items-center">
                        <div class="spinner-border spinner-border-sm text-success icon" role="status">
                            <span class="sr-only">Loading...</span>
                        </div>
                    </div>
                    <div class="col-11 side-bar-main">
                        <div id="mySuppNumber" class="row support">
                            <div class="col-4 pull-right border-right">
                                <div class="description">EMPRESA</div>
                                <span class="company-meta pull-right">
                                </span>
                            </div>
                            <div class="col-4 border-right">
                                <div class="description">USUÁRIO</div>
                                <span class="name-meta pull-right">
                                </span>
                            </div>
                            <div class="col-4 pull-right">
                                <span placeholder="dd-mm-yyyy" class="date-meta ">
                                </span>
                                <span class="time-meta ">
                                </span>
                            </div>
                            <div hidden>
                                <span class="comment-meta">
                                </span>
                                <span class="status-meta">
                                </span>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="closureSupportIncomeElementExample" class="row side-bar-body" onclick="selected(this)"
                    data-target="#editSupport" data-toggle="modal">
                    <div class="side-bar-main">
                        <div id="closureSuppNumber" class="row support">
                            <div class="col-4 pull-right border-right">
                                <div class="description">EMPRESA</div>
                                <span class="company-meta pull-right">
                                    EMPRESA
                                </span>
                            </div>
                            <div class="col-4 border-right">
                                <div class="description">USUÁRIO</div>
                                <span class="name-meta pull-right">
                                    USUARIO
                                </span>
                            </div>
                            <div class="col-4 pull-right">
                                <span class="date-meta">
                                </span>
                                <span class="time-meta">11:11
                                </span>
                            </div>
                            <div hidden>
                                <span class="comment-meta">
                                </span>
                                <span class="status-meta">
                                </span>
                                <span class="closureDate-meta">
                                </span>
                                <span class="closureTime-meta">
                                </span>
                                <span class="resolution-meta">
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-5 col-12 side column-left order-2 order-lg-1">
                <div class="side-one">
                    <!-- Heading -->
                    <div class="row heading">
                        <h5 class="col-8 d-flex align-items-center">CHAMADOS EM ABERTO </h5>
                        <div class="col-2 heading-compose pull-right" title="NOVO CHAMADO">
                            <i class="fa fa-user-plus fa-2x pull-right" aria-hidden="true" data-target="#newSupport"
                                data-toggle="modal" type="button"></i>
                        </div>
                        <div class="col-1"></div>
                        <div class="col-1 heading-compose pull-right"
                            title="SILENCIAR NOTIFICAÇÃO">
                            <i class="fa fa-volume-up fa-2x pull-left" aria-hidden="true" type="button"
                                onclick="mute()"></i>
                        </div>
                    </div>
                    <!-- Heading End -->

                    <!-- SearchBox -->
                    <div class="row searchBox">
                        <div class="col-lg-12 searchBox-inner">
                            <div class="form-group has-feedback">
                                <input type="text" class="form-control" name="searchText" placeholder="Search">
                                <span class="glyphicon glyphicon-search form-control-feedback"></span>
                            </div>
                        </div>
                    </div>

                    <!-- Search Box End -->
                    <!-- side-bar -->
                    <div id="newSupportList" class="side-bar">

                    </div>
                    <!-- side-bar End -->
                </div>
            </div>

            <div class="col-lg-2 d-none d-lg-block side column-middle order-2">
            </div>

            <div class="col-lg-5 col-12 side column-right order-1 order-lg-3">
                <div class="side-one">
                    <!-- Heading -->
                    <div class="row heading">
                        <h5 class="col-8 d-flex align-items-center">MEUS CHAMADOS</h5>
                        <div class="col-2 my-heading-compose-side pull-right">
                            <i class="fa fa-archive fa-2x pull-right" aria-hidden="true"
                                title="CHAMADOS ENCERRADOS"></i>
                        </div>
                        <div class="col-2 heading-compose  pull-right">
                            <i class="fa fa-ellipsis-v fa-2x pull-right" aria-hidden="true"></i>
                        </div>
                    </div>
                    <div class="dropDown-menu d-flex justify-content-end ">
                        <div class="dropDown-options">
                            <ul class="list-group">
                                <li class="list-group-item" data-target="#generateReport" data-toggle="modal">Gerar
                                    Relatorio</li>
                                <li onclick="logout()" class="list-group-item">Logout</li>
                            </ul>
                        </div>
                    </div>
                    <!-- Heading End -->

                    <!-- SearchBox -->
                    <div class="row searchBox">
                        <div class="col-lg-12 searchBox-inner">
                            <div class="form-group has-feedback">
                                <input type="text" class="form-control" name="searchText" placeholder="Search">
                                <span class="glyphicon glyphicon-search form-control-feedback"></span>
                            </div>
                        </div>
                    </div>

                    <!-- Search Box End -->

                    <!-- side-bar -->
                    <div id="mySupportList" class="side-bar" ondrop="drop(event)" ondragover="allowDrop(event)"
                        ondragleave="leaveDrop(event)">
                    </div>
                    <!-- side-bar End -->

                </div>

                <div class="side-two">

                    <!-- Heading -->
                    <div class="endedSupport-heading">
                        <div class="row endedSupport-main">

                            <div class="col-10 endedSupport-bg border">
                                <div class="row heading-ended">
                                    <h5 class="col-10 d-flex align-items-end">CHAMADOS ENCERRADOS</h5>
                                    <div class="col-2 d-flex align-items-center endedSupport-back">
                                        <i class="fa fa-chevron-left" aria-hidden="true"></i>
                                    </div>
                                </div>
                                <div class="row searchBox">
                                    <div class="col-12 searchBox-inner">
                                        <div class="form-group has-feedback">
                                            <input id="closed-search" type="text" class="form-control" name="searchText"
                                                placeholder="Search">
                                            <span class="glyphicon glyphicon-search form-control-feedback"></span>
                                        </div>
                                    </div>
                                </div>
                                <div id="closureSupportList" class="side-bar">

                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Heading End -->

                </div>
                <!-- side-bar End -->
            </div>

            <!-- New Message side-bar End -->

        </div>
        <!-- App One End -->
    </div>

    <div class="modal fade" id="newSupport" tabindex="-1" role="dialog" aria-labelledby="newSupportLabel"
        aria-hidden="true">
        <div id="loadingNew" class="loadBG-in">
            <div class="loadIcon">
                <div class="lds-ring">
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                </div>
            </div>
        </div>
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">NOVO CHAMADO</h5>
                </div>
                <div class="modal-body text-center">
                    <form id="newSupportForm">
                        <div class="text-right">
                            <input type="date" placeholder="dd-mm-yyyy">
                            <input type="time" placeholder="dd-mm-yyyy">
                        </div>
                        <input type="text" name="name" placeholder="Nome do usuário(Cliente)" autofocus>
                        <select id="nsCompanies" name="nsCompanies"> </select>
                        <textarea class="form-control" rows="5" id="comment"
                            placeholder="Descrição do Chamado"></textarea>
                    </form>
                    <form id="quickSupportForm">
                        <div class="text-right">Encerramento Rápido
                            <button type="button"
                                class="btn btn-warning quickSupport quickSupport-hover-icon-animation">
                                <i class="fa fa-chevron-circle-left quickSupport-close-icon-animation"
                                    aria-hidden="true"></i>
                            </button>
                        </div>
                        <div class="border border-warning quickSupport-dropDown-div-close">
                            <br>
                            <div class="text-right">
                                Encerramento:
                                <input type="date" placeholder="dd-mm-yyyy" tabindex="-1">
                                <input type="time" placeholder="dd-mm-yyyy" tabindex="-1">
                            </div>
                            <textarea class="form-control quickSupport-textarea" rows="5"
                                placeholder="Solução do problema..." tabindex="-1"></textarea>
                            <br>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" onclick="createNewSupport()" class="btn btn-success">Abrir Chamado</button>
                    <button type="button" class="btn btn-light border" data-dismiss="modal">Cancelar</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="editSupport" tabindex="-1" role="dialog" aria-labelledby="editSupportLabel"
        aria-hidden="true">
        <div id="loadingEdit" class="loadBG-in">
            <div class="loadIcon">
                <div class="lds-ring">
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                </div>
            </div>
        </div>
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">CHAMADO</h5>
                </div>
                <div class="modal-body text-center">
                    <form id="editSupportForm">
                        <div class="text-right">
                            <input id="edtDate" type="date" placeholder="dd-mm-yyyy" disabled>
                            <input id="edtTime" type="time" placeholder="dd-mm-yyyy" disabled>
                        </div>
                        <input id="edtName" type="text" name="name" disabled>
                        <select id="edtCompany" name="edtCompany" disabled> </select>
                        <textarea id="edtComment" class="form-control" rows="5"></textarea>
                        <div class="text-right resolution">
                            Encerramento:
                            <input id="edtClosureDate" type="date" placeholder="dd-mm-yyyy">
                            <input id="edtClosureTime" type="time" placeholder="dd-mm-yyyy">
                        </div>
                        <textarea id='edtResolution' class="form-control resolution" rows="5"
                            placeholder="Solução do problema..."></textarea>
                        <div id="supportId" hidden></div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" onclick="updateSupport(3)"
                        class="btn btn-primary resolutionBtn">Encerrar</button>
                    <button type="button" class="btn renounce btn-danger resolutionBtn">↵</button>                    
                    <button type="button" onclick="updateSupport(1)" class="btn edit btn-success">Confirmar</button>
                    <button type="button" class="btn exclude btn-danger opened">↵</button>
                    <button type="button" onclick="updateSupport(2)" class="btn closure btn-danger"
                        data-dismiss="modal">Reabrir</button>
                    <button type="button" class="btn btn-light border" data-dismiss="modal">Cancelar</button>

                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="generateReport" tabindex="-1" role="dialog" aria-labelledby="generateReportLabel"
        aria-hidden="true">
        <div id="loadingGenerate" class="loadBG-in">
            <div class="loadIcon">
                <div class="lds-ring">
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                </div>
            </div>
        </div>
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">RELATÓRIO</h5>
                </div>
                <div class="modal-body text-right">
                    <form>
                        <div>
                            Data Inicial:
                            <input id="initDate" autofocus type="date" placeholder="dd-mm-yyyy">
                        </div>
                        <div>
                            Data Final:
                            <input id="endDate" type="date" placeholder="dd-mm-yyyy">
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" onclick="generateReport(3)" class="btn btn-success">Confirmar</button>
                    <button type="button" class="btn btn-light border" data-dismiss="modal">Cancelar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- App End -->
    <script>
        mute();      
    </script>
</body>

</html>